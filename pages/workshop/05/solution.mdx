import Link from 'next/link'

import { MarkdownWrapper } from '../../../workshop/components/markdown-wrapper'
import { Reveal } from '../../../workshop/components/reveal'

export default function ({ children }) {
  return <MarkdownWrapper>{children}</MarkdownWrapper>
}

# Challenge #1 solution

In your CSS file, you should have defined a `--primary-500` CSS variable at the `:root` scope first, and then redefined that variable within theme-specific scopes, using the `[data-theme="*"]` selector.

The `:root` scope varianble holds the default theme's `500` color shade. Each theme scope re-assigns that variable with the `500` shade of the relevant theme color.

---

<Reveal fileName="multi-theme-plugin.js">

```js
const plugin = require('tailwindcss/plugin')

const multiThemePlugin = plugin(function ({ addBase, theme }) {
  addBase({
    ':root': {
      '--primary-50': theme('colors.default.50'),
      '--primary-100': theme('colors.default.100'),
      '--primary-200': theme('colors.default.200'),
      '--primary-300': theme('colors.default.300'),
      '--primary-400': theme('colors.default.400'),
      '--primary-500': theme('colors.default.500'),
      '--primary-600': theme('colors.default.600'),
      '--primary-700': theme('colors.default.700'),
      '--primary-800': theme('colors.default.800'),
      '--primary-900': theme('colors.default.900'),
    }
  })

  addBase({
    '[data-theme="default"]': {
      '--primary-50': theme('colors.default.50'),
      '--primary-100': theme('colors.default.100'),
      '--primary-200': theme('colors.default.200'),
      '--primary-300': theme('colors.default.300'),
      '--primary-400': theme('colors.default.400'),
      '--primary-500': theme('colors.default.500'),
      '--primary-600': theme('colors.default.600'),
      '--primary-700': theme('colors.default.700'),
      '--primary-800': theme('colors.default.800'),
      '--primary-900': theme('colors.default.900'),
    }
  })
  addBase({
    '[data-theme="rainforest"]': {
      '--primary-50': theme('colors.rainforest.50'),
      '--primary-100': theme('colors.rainforest.100'),
      '--primary-200': theme('colors.rainforest.200'),
      '--primary-300': theme('colors.rainforest.300'),
      '--primary-400': theme('colors.rainforest.400'),
      '--primary-500': theme('colors.rainforest.500'),
      '--primary-600': theme('colors.rainforest.600'),
      '--primary-700': theme('colors.rainforest.700'),
      '--primary-800': theme('colors.rainforest.800'),
      '--primary-900': theme('colors.rainforest.900'),
    }
  })
  addBase({
    '[data-theme="candy"]': {
      '--primary-50': theme('colors.candy.50'),
      '--primary-100': theme('colors.candy.100'),
      '--primary-200': theme('colors.candy.200'),
      '--primary-300': theme('colors.candy.300'),
      '--primary-400': theme('colors.candy.400'),
      '--primary-500': theme('colors.candy.500'),
      '--primary-600': theme('colors.candy.600'),
      '--primary-700': theme('colors.candy.700'),
      '--primary-800': theme('colors.candy.800'),
      '--primary-900': theme('colors.candy.900'),
    }
  })
}, {
  theme: {
    extend: {
      colors: {
        primary: {
          50: 'rgb(var(--primary-50) / <alpha-value>)',
          100: 'rgb(var(--primary-100) / <alpha-value>)',
          200: 'rgb(var(--primary-200) / <alpha-value>)',
          300: 'rgb(var(--primary-300) / <alpha-value>)',
          400: 'rgb(var(--primary-400) / <alpha-value>)',
          500: 'rgb(var(--primary-500) / <alpha-value>)',
          600: 'rgb(var(--primary-600) / <alpha-value>)',
          700: 'rgb(var(--primary-700) / <alpha-value>)',
          800: 'rgb(var(--primary-800) / <alpha-value>)',
          900: 'rgb(var(--primary-900) / <alpha-value>)',
        }
      }
    }
  }
})

module.exports = multiThemePlugin
```

</Reveal>

---

After that, you need to extend the `theme.colors` object with a new `primary` color. For now, we only add a `500` shade that uses our CSS variable.

---

<Reveal fileName="tailwind.config.js">

```diff
module.exports = {
  theme: {
    // ...
  },
  plugins: [
+    require('./workshop/multi-theme-plugin')
  ]
}
```

</Reveal>

---

### Some notes

We're putting our CSS in the `base layer`, since those styles target specific selectors directly, and are not meant to be added as classes.

We also redefine the `default` theme in the `data-theme="default"` scope. This lets us re-assign the `default` theme for a portion of HTML nested inside of another theme scope.
