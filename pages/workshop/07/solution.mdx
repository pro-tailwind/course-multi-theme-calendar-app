import Link from 'next/link'

import { MarkdownWrapper } from '../../../workshop/components/markdown-wrapper'
import { Reveal } from '../../../workshop/components/reveal'

export default function ({ children }) {
  return <MarkdownWrapper>{children}</MarkdownWrapper>
}

# Solution

In your CSS file, you should have defined a `--primary-500` CSS variable at the `:root` scope first, and then redefined that variable within theme-specific scopes, using the `[data-theme="*"]` selector.

The `:root` scope varianble holds the default theme's `500` color shade. Each theme scope re-assigns that variable with the `500` shade of the relevant theme color.

---

<Reveal fileName="themes.js">

```diff
const themes = [
  {
    name: 'default',
    colors: {
+      primary: {
        50: '238 242 255',
        100: '224 231 255',
        // ...
+      }
    },
  },
  {
    name: 'rainforest',
    colors: {
+      primary: {
        50: '236 253 244',
        100: '201 242 222',
        // ...
+      }
    },
  },
  {
    name: 'candy',
    colors: {
+      primary: {
        50: '253 242 248',
        100: '247 226 238',
        // ...
+    }
    },
  },
]

module.exports = themes

```

</Reveal>

---

<Reveal fileName="multi-theme-plugin.js">

```js
const plugin = require('tailwindcss/plugin')
const themes = require('./themes')

const multiThemePlugin = plugin(function ({ addBase }) {
  addBase({
    ':root': {
      '--primary-50': themes[0].colors.primary[50],
      '--primary-100': themes[0].colors.primary[100],
      '--primary-200': themes[0].colors.primary[200],
      '--primary-300': themes[0].colors.primary[300],
      '--primary-400': themes[0].colors.primary[400],
      '--primary-500': themes[0].colors.primary[500],
      '--primary-600': themes[0].colors.primary[600],
      '--primary-700': themes[0].colors.primary[700],
      '--primary-800': themes[0].colors.primary[800],
      '--primary-900': themes[0].colors.primary[900],
    }
  })


  themes.forEach((theme) => {
    addBase({
      [`[data-theme="${theme.name}"]`]: {
        '--primary-50': theme.colors.primary[50],
        '--primary-100': theme.colors.primary[100],
        '--primary-200': theme.colors.primary[200],
        '--primary-300': theme.colors.primary[300],
        '--primary-400': theme.colors.primary[400],
        '--primary-500': theme.colors.primary[500],
        '--primary-600': theme.colors.primary[600],
        '--primary-700': theme.colors.primary[700],
        '--primary-800': theme.colors.primary[800],
        '--primary-900': theme.colors.primary[900],
      }
    })
  })
}, {
  theme: {
    extend: {
      colors: {
        primary: {
          50: 'rgb(var(--primary-50) / <alpha-value>)',
          100: 'rgb(var(--primary-100) / <alpha-value>)',
          200: 'rgb(var(--primary-200) / <alpha-value>)',
          300: 'rgb(var(--primary-300) / <alpha-value>)',
          400: 'rgb(var(--primary-400) / <alpha-value>)',
          500: 'rgb(var(--primary-500) / <alpha-value>)',
          600: 'rgb(var(--primary-600) / <alpha-value>)',
          700: 'rgb(var(--primary-700) / <alpha-value>)',
          800: 'rgb(var(--primary-800) / <alpha-value>)',
          900: 'rgb(var(--primary-900) / <alpha-value>)',
        }
      }
    }
  }
})

module.exports = multiThemePlugin
```

</Reveal>

---

### Some notes

We're putting our CSS in the `base layer`, since those styles target specific selectors directly, and are not meant to be added as classes.

We also redefine the `default` theme in the `data-theme="default"` scope. This lets us re-assign the `default` theme for a portion of HTML nested inside of another theme scope.
